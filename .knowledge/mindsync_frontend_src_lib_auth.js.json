{"is_source_file": true, "format": "JavaScript", "description": "This is a React JavaScript source file that implements client-side authentication and authorization context management for a frontend application. It provides hooks and components such as useAuth and AuthProvider to handle user login, registration, logout, and role management, utilizing localStorage for session persistence.", "external_files": ["react"], "external_methods": ["createContext", "useContext", "useEffect", "useMemo", "useState"], "published": ["useAuth", "AuthProvider"], "classes": [], "methods": [{"name": "useAuth()", "description": "React hook to access authentication and role info stored in context.", "scope": "", "scopeKind": ""}, {"name": "AuthProvider({ children })", "description": "React component that provides authentication state, role, and login/register/logout functions to its children via context.", "scope": "", "scopeKind": ""}, {"name": "readSession()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "writeSession(next)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify", "useContext", "useState", "useEffect", "window.addEventListener", "window.removeEventListener", "setTimeout", "btoa"], "search-terms": ["auth context", "localStorage auth", "React useAuth", "auth provider", "frontend auth", "session management"], "state": 2, "file_id": 30, "knowledge_revision": 75, "git_revision": "", "revision_history": [{"68": ""}, {"75": ""}], "ctags": [{"_type": "tag", "name": "AuthContext", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^const AuthContext = createContext(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "AuthProvider", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^export function AuthProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "DEFAULT_ROLE", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^const DEFAULT_ROLE = \"User\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^const STORAGE_KEY = \"mindsync_demo_auth\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "demoUser", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const demoUser = {$/", "language": "JavaScript", "kind": "class", "scope": "AuthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^      email,$/", "language": "JavaScript", "kind": "field", "scope": "AuthProvider.demoUser", "scopeKind": "class"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: demoUser, role: nextRole };$/", "language": "JavaScript", "kind": "class", "scope": "AuthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: demoUser, role: selectedRole || DEFAULT_ROLE };$/", "language": "JavaScript", "kind": "class", "scope": "AuthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: null, role: null };$/", "language": "JavaScript", "kind": "class", "scope": "AuthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "readSession", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^function readSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: demoUser, role: nextRole };$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: demoUser, role: selectedRole || DEFAULT_ROLE };$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: null, role: null };$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^      uid: `demo-${btoa(email).slice(0, 8)}`,$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.demoUser", "scopeKind": "class"}, {"_type": "tag", "name": "useAuth", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^export function useAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user, role: nextRole };$/", "language": "JavaScript", "kind": "field", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: demoUser, role: nextRole };$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: demoUser, role: selectedRole || DEFAULT_ROLE };$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^    const next = { user: null, role: null };$/", "language": "JavaScript", "kind": "property", "scope": "AuthProvider.next", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^  return <AuthContext.Provider value={value}>{children}<\\/AuthContext.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "writeSession", "path": "/home/kavia/workspace/code-generation/mindsync-frontend-152310-152319/mindsync_frontend/src/lib/auth.js", "pattern": "/^function writeSession(next) {$/", "language": "JavaScript", "kind": "function", "signature": "(next)"}], "hash": "6b0284ee441d530e9f0cb3b9af23024f", "format-version": 4, "code-base-name": "mindsync_frontend", "filename": "mindsync_frontend/src/lib/auth.js", "fields": [{"name": "email,", "scope": "AuthProvider.demoUser", "scopeKind": "class", "description": "unavailable"}, {"name": "const next = { user: demoUser, role: nextRole };", "scope": "AuthProvider.next", "scopeKind": "class", "description": "unavailable"}, {"name": "const next = { user: demoUser, role: selectedRole || DEFAULT_ROLE };", "scope": "AuthProvider.next", "scopeKind": "class", "description": "unavailable"}, {"name": "const next = { user: null, role: null };", "scope": "AuthProvider.next", "scopeKind": "class", "description": "unavailable"}, {"name": "uid: `demo-${btoa(email).slice(0, 8)}`,", "scope": "AuthProvider.demoUser", "scopeKind": "class", "description": "unavailable"}, {"name": "const next = { user, role: nextRole };", "scope": "AuthProvider.next", "scopeKind": "class", "description": "unavailable"}, {"name": "return <AuthContext.Provider value={value}>{children}<\\/AuthContext.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}